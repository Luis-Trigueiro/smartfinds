<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartFinds4You Blog</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    body { font-family: 'Poppins', sans-serif; padding: 2rem; background: #f9fafb; color: #0d3b66; }
    h1 { text-align: center; color: #f28c28; }
    .post { margin: 2rem 0; padding: 1.5rem; background: #fff; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    a { color: #0d3b66; text-decoration: none; font-weight: 600; }
  </style>
</head>
<body>
  <h1>ðŸ“° SmartFinds Daily Picks</h1>
  <div id="posts"></div>
  <script>
    async function loadPosts() {
      const res = await fetch('./posts/');
      const text = await res.text();
      const links = [...text.matchAll(/href="([^"]+\.md)"/g)].map(m => m[1]);
      const container = document.getElementById('posts');

      if (links.length === 0) {
        container.innerHTML = "<p>No posts yet. Come back tomorrow!</p>";
        return;
      }

      for (const link of links.reverse()) {
        const name = link.split('/').pop().replace('.md', '').replace(/-/g, ' ');
        const title = name.replace(/^\d{4}\s\d{2}\s\d{2}/, '').trim();
        const postEl = document.createElement('div');
        postEl.className = 'post';
        postEl.innerHTML = `<a href="./posts/${link}" target="_blank">ðŸ“¦ ${title}</a>`;
        container.appendChild(postEl);
      }
    }
    loadPosts();
  </script>
</body>
</html>
